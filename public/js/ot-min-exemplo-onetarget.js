var OT=OT||{};OT.api=OT.api||{};(function(){function b(b){var c="icS="+a.icS;for(var d in b){if(encodeURIComponent(b[d])!=="")c+="&"+d+"="+encodeURIComponent(b[d])}return c}function c(b){var c=document.createElement("script");c.type="text/javascript";c.src=a.url+b;c.async=true;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}function d(a,b){if(f(a))return;var c=new Date;var d=new Date(c.getTime()+999*24*60*60*1e3);var d=d.toGMTString();document.cookie=a+"="+b+";expires="+d}function e(a){var b=a+"=";var c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}function f(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1)return true;return false}}function h(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "))}function i(){return j(document.body.className)}function j(a){var b=a.split(" ").filter(function(a){return String(a).match(/cl_/)});if(b.length!==0){return b[0].slice(3)}return null}function k(){var a=document.location.href;var b=a.indexOf("?")==-1?a.length:a.indexOf("?");return a.substring(a.lastIndexOf("/")+1,b)}var a={icS:"u980oqx9",url:"http://api.onetarget.com.br/v1/events?"};rules=undefined;OT.api.sendClick=function(a,d,e){var f={te:"evtClick",nm:a,ac:d,ct:e};var g=b(f);g+="&timestamp="+(new Date).getTime();c(g)};OT.api.sendPageView=function(a,d){var e={te:"evtPageView",nm:a,ct:d};var f=b(e);c(f)};OT.api.initClient=function(a,b){d("otc_res",b);rules=a};OT.api.whenReady=function(a){var b=setInterval(function(){if(rules!==undefined){a.call();clearInterval(b)}},500)};OT.api.getRule=function(a){return rules[a]};OT.api.getAllRules=function(){return rules};var g=function(){clByQueryString=h("cl")||"";clByBodyClass=i()||"";if(clByQueryString!==""){OT.api.sendClick(k(),window.location,clByQueryString)}OT.api.sendPageView(k(),clByBodyClass)};if(!("filter"in Array.prototype)){Array.prototype.filter=function(a,b){var c=[],d;for(var e=0,f=this.length;e<f;e++)if(e in this&&a.call(b,d=this[e],e,this))c.push(d);return c}}g()})()